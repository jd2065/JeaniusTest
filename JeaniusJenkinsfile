properties([

    parameters([
        string(
            name: 'RCR', 
            description: 'Enter RCR', 
			defaultValue: '',
        ), 
	])
])

pipeline {
    agent {
        node {
            label 'ansible'
        }
    }
    stages {
        stage ('Deploy Code') {
            steps{
                script {
					groovy './helloworld.groovy'
				}
            }
            
        }
		stage ('Code') {
			steps{
			checkout scm
			script {
					[$class: 'ExecuteDslScripts',
						scriptLocation: [targets: './helloworld.groovy',],
						usingScriptText: false,
						ignoreExisting: false,
						ignoreMissingFiles: false,
						failOnMissingPlugin: true,
						failOnSeedCollision: true,
						unstableOnDeprecation: true,
						removedJobAction: 'IGNORE',
						removedViewAction: 'IGNORE',
						removedConfigFilesAction: 'IGNORE',
						lookupStrategy: 'JENKINS_ROOT'
                    ]
				}
            }
            
        }		
    }
}
